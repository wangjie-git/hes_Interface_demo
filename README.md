
# hes_Interface_demo

> **Konsung Cloud System (KSY) Data Interchange Interface â€” Demo Implementation**

---

## ğŸ§­ 1. Introduction

This project provides a **reference implementation** of the  
**Konsung Cloud System (KSY) Data Interchange Interface**.

It demonstrates how to build a simple HTTP endpoint that receives medical measurement data pushed from the KSY Cloud, performs **MD5 signature verification**, and logs the structured request content.

The demo is intended for **third-party platform developers** who want to:
- Validate the integration with KSY Cloud.
- Simulate data reception and verification.
- Understand the JSON data structure used in production environments.

---

## âš™ï¸ 2. Tech Stack

| Component | Description |
|------------|-------------|
| **Java 1.8** | Programming language |
| **Spring Boot 2.x** | REST API framework |
| **Maven** | Build & dependency management |
| **Lombok** | Boilerplate reduction for DTOs |
| **Jackson** | JSON parsing |
| **Logback** | Logging |
| **JUnit** | Testing framework |

---

## ğŸš€ 3. Quick Start

### 3.1 Clone the Project

```bash
git clone https://github.com/wangjie-git/hes_Interface_demo.git
cd hes_Interface_demo
````

### 3.2 Build and Run

```bash
mvn clean package
java -jar target/hes_Interface_demo.jar
```

By default, the application starts on:

```
http://localhost:8080/publicHealth/dataInterchange
```

---

## ğŸ“¡ 4. API Specification

### 4.1 Endpoint Definition

| Item                | Description                     |
| ------------------- | ------------------------------- |
| **URL**             | `/publicHealth/dataInterchange` |
| **Method**          | `POST`                          |
| **Content-Type**    | `application/json`              |
| **Response Format** | JSON                            |

### 4.2 Example Request

```bash
curl -X POST http://localhost:8080/publicHealth/dataInterchange \
  -H "Content-Type: application/json" \
  -d @demo/sample-data/normal-checkdata.json
```

### 4.3 Example Response

```json
{
  "resultCode": "10000",
  "resultMessage": ""
}
```

---

## ğŸ” 5. Signature Verification

Each request includes a security key generated by MD5 encryption.

**Algorithm Example:**

```java
String rsId = "";
String single = "";
String key = MD5.encrypt(rsId + single);
System.out.println("key = " + key);
// Output: 87a81d8edfe6b43aa8763d7147f6245a
```

This ensures data integrity and authenticity between systems.

---

## ğŸ§° 6. Project Structure

```
com.example.hes_interface_demo
â”œâ”€â”€ demos
â”‚   â””â”€â”€ dto/
â”‚       â”œâ”€â”€ AktBiochemicals.java           # Biochemical test data DTO
â”‚       â”œâ”€â”€ AktBloodPressure.java          # Blood pressure data DTO
â”‚       â”œâ”€â”€ AktBloodSugar.java             # Blood glucose data DTO
â”‚       â”œâ”€â”€ AktCheckData.java              # Main measurement data object
â”‚       â”œâ”€â”€ AktFetalHeartDto.java          # Fetal heart data DTO
â”‚       â”œâ”€â”€ AktGlycatedHemoglobin.java     # HbA1c (glycated hemoglobin) DTO
â”‚       â”œâ”€â”€ AktHemamebaDto.java            # White blood cell (WBC) data DTO
â”‚       â”œâ”€â”€ AktHemoglobinDto.java          # Hemoglobin data DTO
â”‚       â”œâ”€â”€ AktLipidFourDto.java           # Blood lipids data DTO
â”‚       â”œâ”€â”€ AktMeasureDto.java             # General measurement record DTO
â”‚       â”œâ”€â”€ AktOxygen.java                 # Blood oxygen (SpO2) DTO
â”‚       â”œâ”€â”€ AktPersonInfo.java             # Patient information DTO
â”‚       â”œâ”€â”€ AktRoutineUrine.java           # Urinalysis data DTO
â”‚       â”œâ”€â”€ AktTemperature.java            # Body temperature DTO
â”‚       â”œâ”€â”€ AktThreeWayDto.java            # Three-lead ECG data DTO
â”‚       â”œâ”€â”€ AktWaveForm.java               # ECG/PPG waveform data DTO
â”‚       â”œâ”€â”€ AktXcgDto.java                 # Extended ECG data DTO
â”‚       â””â”€â”€ ThirdResultCodeDto.java        # Response result wrapper
â”‚
â”œâ”€â”€ util/
â”‚   â”œâ”€â”€ JsonUtil.java                      # JSON serialization/deserialization
â”‚   â””â”€â”€ MD5.java                           # Signature generation utility
â”‚
â”œâ”€â”€ web/
â”‚   â””â”€â”€ BasicController.java               # REST controller for data reception
â”‚
â””â”€â”€ HesInterfaceDemoApplication.java       # Application entry point
```

---

## ğŸ§© 7. Sample Data

Sample JSON payloads can be found under the `/demo/sample-data/` directory.

| File                    | Description                            |
| ----------------------- | -------------------------------------- |
| `normal-checkdata.json` | Standard physical check data           |
| `custom-device.json`    | Custom device (e.g., stethoscope) data |

---

## ğŸ§¾ 8. API Specification Reference

For full details on parameters, verification, and data format:
ğŸ“– **KSY Data Interchange Interface Specification**
ğŸ‘‰ [https://github.com/wangjie-git/hes_Interface_demo/blob/main/docs/KSY_Data_Interchange_Interface.md](https://github.com/wangjie-git/hes_Interface_demo/blob/main/docs/KSY_Data_Interchange_Interface.md)

---

## ğŸ§± 9. Response Codes

| Code    | Meaning | Description                         |
| ------- | ------- | ----------------------------------- |
| `10000` | Success | Data received successfully          |
| `00000` | Failure | Signature or data validation failed |

---

## ğŸ§‘â€ğŸ’» 10. Maintainers & Contact

For technical support or business integration, contact the Konsung Cloud API Team.

**Author:** Konsung Cloud System
**Maintainer:** [wangjie-git](https://github.com/wangjie-git)

---

**Version:** 1.0.0
**Last Updated:** 2025-11-11
